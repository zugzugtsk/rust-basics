name: CI config

on:
  workflow_dispatch:
    inputs:
      name:
        type: choice
        description: Win build
        options: 
        - build
        - build+test
        - build+test+publish
      message:
        required: true

env:
  WIN_CHOICE: ${{ github.event.inputs.name }}
  MESSAGE: ${{ github.event.inputs.message }}

jobs:
  print_info:
    runs-on: ubuntu-latest

    steps:
    - name: Print inputs & github context
      run: |
        # echo "${{ github.event.inputs.message }} ${{ github.event.inputs.name }}"
        # echo "win_choice=${{ github.event.inputs.name }}" >> $GITHUB_ENV
        echo '${{ toJSON(github) }}'
        echo '${{ toJSON(env) }}'